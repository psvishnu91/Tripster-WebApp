doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    |     
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    |     
    meta(name='viewport', content='width=device-width, initial-scale=1')
    |     
    meta(name='description', content='')
    |     
    meta(name='author', content='')
    |     
    title Tripster - Login
    // Bootstrap Core CSS
    link(href='/stylesheets/bootstrap.min.css', rel='stylesheet')
    // MetisMenu CSS
    link(href='/stylesheets/metisMenu.min.css', rel='stylesheet')
    // Custom CSS
    link(href='/stylesheets/sb-admin-2.css', rel='stylesheet')
    // Custom Fonts
    link(href='/stylesheets/font-awesome.min.css', rel='stylesheet', type='text/css')
    // HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries
    // WARNING: Respond.js doesn't work if you view the page via file://
    //if lt IE 9
      script(src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js')
      |     
      script(src='https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js')
  |   
  body(onload='checkIfLastFail(results);')
    .container
      .row
        .col-md-4.col-md-offset-4
          .login-panel.panel.panel-default
            .panel-heading
              h3.panel-title Please Sign In
            |             
            .panel-body
              form(method='get', action='/login')
                fieldset
                  .form-group
                    input.form-control(type='text', placeholder='Username', name='username', value='', autofocus='')
                  |                   
                  .form-group
                    input.form-control(type='password', placeholder='Password', name='password', value='')
                  |                   
                  .checkbox
                    label
                      input(type='checkbox', name='remember', value='Remember Me')
                      | Remember Me
                  // Change this to a button or input when using this as a form
                  button.btn.btn-lg.btn-success.btn-block(type='submit', value='Submit') Login
    // jQuery
    script(type='text/javascript', language='javascript').
      SuccessEnum = {
      SUCCESS : 1,
      FAIL : 0
      };
      LoginErrorCodeEnum = {
      CONNECTION_ERROR : 0,
      INCORRECT_ID_PASSWORD : 1
      };
      function checkIfLastFail(results)
      {
      if (typeof results != 'undefined' )
      {
      console.log('results success : '+results.success);
      console.log('results error : '+results.error);
      if (results.success == SuccessEnum.SUCCESS )
      return;
      else
      {
      if (results.error = LoginErrorCodeEnum.CONNECTION_ERROR)
      alert('Oops connection error');
      else
      alert('Incorrect id password');
      }
      }
      }
    |     
    script(src='/javascripts/jquery.js')
    // Bootstrap Core JavaScript
    script(src='/javascripts/bootstrap.min.js')
    // Metis Menu Plugin JavaScript
    script(src='/javascripts/metisMenu.min.js')
    // Custom Theme JavaScript
    script(src='/javascripts/sb-admin-2.js')
